package com.indiemaps.charting{		import flash.display.MovieClip;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.geom.Rectangle;	import flash.text.TextField;	import flash.text.TextFieldAutoSize;	import flash.text.TextFormat;	import flash.geom.ColorTransform;		public class Flag extends MovieClip {				var container:MovieClip = new MovieClip();		var line:MovieClip;		var fill:MovieClip;		public var description:String;// = new String();		public var date:Date;// = new Date();				public static const FLAG_OVER:String = "mouseOverFlag";		public static const FLAG_OUT:String = "mouseOutFlag";		public static const FLAG_CLICK:String = "clickFlag";		private var label:TextField;		var fillTransform:ColorTransform;		var lineTransform:ColorTransform;				public function Flag(date:Date, description:String, labelText=null) {			this.description = description;			this.date = date;						line = new MovieClip();			fill = new MovieClip();			this.container.addChild(fill);			this.container.addChild(line);						this.line.graphics.lineStyle(2, 0xaaaaaa, 1, false, "none", "none");			this.line.graphics.lineTo(0, -25);			this.line.graphics.lineStyle(1, 0xaaaaaa, 1, false, "none", "none");			this.line.graphics.drawRect(0,-25,15,15);						this.fill.graphics.beginFill(0xeeeeee);			this.fill.graphics.drawRect(0,-25,15,15);			this.fill.graphics.endFill();			this.addChild(container);			this.buttonMode = true;			if (labelText != null) {				label = new TextField();				label.text = labelText;				label.textColor = 0x666666;				label.selectable = false;				label.mouseEnabled = false;				label.autoSize = TextFieldAutoSize.CENTER;				label.y = -25;				label.x = 3;				addChild(label);			}			fillTransform = fill.transform.colorTransform;			lineTransform = line.transform.colorTransform;						this.addEventListener(MouseEvent.ROLL_OVER, onMouseOver);			this.addEventListener(MouseEvent.ROLL_OUT, onMouseOut);			this.addEventListener(MouseEvent.CLICK, onClick);					}				function onMouseOut(e:MouseEvent) {			fillTransform.color = 0xeeeeee;			fill.transform.colorTransform = fillTransform;			lineTransform.color = 0xaaaaaa;			line.transform.colorTransform = lineTransform;			dispatchEvent(new Event(Flag.FLAG_OUT));		}		function onMouseOver(e:MouseEvent) {			fillTransform.color = 0xffffff;			fill.transform.colorTransform = fillTransform;			lineTransform.color = 0x000000;			line.transform.colorTransform = lineTransform;			dispatchEvent(new Event(Flag.FLAG_OVER, true));		}		function onClick(e:MouseEvent) {			dispatchEvent(new Event(Flag.FLAG_CLICK, true));		}			}		}